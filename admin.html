<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>초대장 플랫폼(오푸스) · RSVP 관리자</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="admin.css" />
  </head>
  <body>
    <header class="header">
      <h1>RSVP 관리자 페이지</h1>
      <p id="adminSubtitle" class="admin-subtitle">초대장 응답을 확인하고 CSV로 내보낼 수 있습니다.</p>
      <p><a href="index.html" class="text-link">← 초대장 편집 페이지로 돌아가기</a></p>
    </header>

    <main class="admin-wrap">
      <section class="panel">
        <h2>요약</h2>
        <div class="stat-grid">
          <article class="stat-card">
            <p>총 응답</p>
            <strong id="statTotalResponses">0</strong>
          </article>
          <article class="stat-card">
            <p>참석</p>
            <strong id="statAttend">0</strong>
          </article>
          <article class="stat-card">
            <p>불참</p>
            <strong id="statAbsent">0</strong>
          </article>
          <article class="stat-card">
            <p>예상 참석 인원</p>
            <strong id="statGuests">0</strong>
          </article>
          <article class="stat-card">
            <p>식사 예정 인원</p>
            <strong id="statMealGuests">0</strong>
          </article>
        </div>
      </section>

      <section class="panel">
        <div class="toolbar">
          <label>
            검색
            <input id="searchInput" type="text" placeholder="이름/연락처/구분/식사/메모" />
          </label>

          <label>
            참석 필터
            <select id="attendFilter">
              <option value="all">전체</option>
              <option value="참석">참석</option>
              <option value="불참">불참</option>
            </select>
          </label>

          <label>
            식사 필터
            <select id="mealFilter">
              <option value="all">전체</option>
              <option value="식사 예정">식사 예정</option>
              <option value="식사 안 함">식사 안 함</option>
            </select>
          </label>

          <div class="toolbar-actions">
            <button id="downloadCsvBtn" type="button">CSV 다운로드</button>
            <button id="clearInviteBtn" type="button" class="danger">현재 초대장 데이터 삭제</button>
          </div>
        </div>

        <p class="warn-note">
          ⚠️ 현재 MVP는 LocalStorage 기반입니다. 즉, 이 브라우저에서 제출된 RSVP만 보입니다.
          실제 운영용 통합 수집은 추후 DB 백엔드(Supabase/Firebase 등) 연동이 필요합니다.
        </p>

        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th>제출 시각</th>
                <th>이름</th>
                <th>연락처</th>
                <th>구분</th>
                <th>참석</th>
                <th>인원</th>
                <th>식사</th>
                <th>메모</th>
                <th>삭제</th>
              </tr>
            </thead>
            <tbody id="rsvpTableBody">
              <tr>
                <td colspan="9" class="empty-row">응답 데이터가 없습니다.</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>
    </main>

    <script src="admin.js"></script>
  </body>
</html>
